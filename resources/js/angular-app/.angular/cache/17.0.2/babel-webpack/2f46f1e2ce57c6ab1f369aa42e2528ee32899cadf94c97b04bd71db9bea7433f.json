{"ast":null,"code":"import { logInUser } from '../state/actions/user.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@ngrx/store\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(authService, store) {\n      this.authService = authService;\n      this.store = store;\n    }\n    ngOnInit() {\n      this.authService.initCsrfCookie().subscribe({\n        error: err => {\n          // Log error\n        }\n      });\n    }\n    quickLogin(userId, password) {\n      this.authService.logInUser(userId, password).subscribe({\n        next: data => {\n          if (data.authenticated === false) {\n            console.warn('Invalid username of password');\n            return;\n          }\n          const user = data.user_data;\n          sessionStorage.setItem('userId', user.id);\n          sessionStorage.setItem('userFirstName', user.fname);\n          sessionStorage.setItem('userImage', user.profile_img);\n          this.store.dispatch(logInUser({\n            userId: user.id,\n            userFirstName: user.fname,\n            userImage: user.profile_img\n          }));\n          location.assign('/');\n        },\n        error: err => {\n          if (err.status === 0) {\n            // A client-side or network error occured.\n            console.error('Error:', err.error);\n          } else if (err.status !== 200) {\n            console.error(`${err.status}\\nbody: ${err.error}`);\n            console.error(err);\n          } else {\n            console.error(err);\n          }\n        }\n      });\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Store));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 23,\n      vars: 0,\n      consts: [[1, \"login-screen\"], [1, \"container\"], [1, \"login-left\"], [1, \"flex-cont\"], [1, \"img-card\", 3, \"click\"], [\"src\", \"/assets/images/generated_photos_5e6886616d3b380006f18919.jpg\"], [1, \"caption\"], [\"src\", \"/assets/images/photo-by-face-generator_6141b1b1bcc495000d810575.jpg\"], [\"src\", \"/assets/images/generated_photos_5e68891b6d3b380006f22881.jpg\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Angular Chat\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"h2\");\n          i0.ɵɵtext(6, \"Quick Logins\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\");\n          i0.ɵɵtext(8, \"Click on a picture to log in.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 3)(10, \"div\", 4);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_10_listener() {\n            return ctx.quickLogin(\"mark\", \"secret\");\n          });\n          i0.ɵɵelement(11, \"img\", 5);\n          i0.ɵɵelementStart(12, \"div\", 6);\n          i0.ɵɵtext(13, \"Mark\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 4);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_14_listener() {\n            return ctx.quickLogin(\"paulsmith\", \"secret\");\n          });\n          i0.ɵɵelement(15, \"img\", 7);\n          i0.ɵɵelementStart(16, \"div\", 6);\n          i0.ɵɵtext(17, \"Paul\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 4);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_div_click_18_listener() {\n            return ctx.quickLogin(\"sophieevans\", \"secret\");\n          });\n          i0.ɵɵelement(19, \"img\", 8);\n          i0.ɵɵelementStart(20, \"div\", 6);\n          i0.ɵɵtext(21, \"Sophie\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(22, \"app-login-form\");\n          i0.ɵɵelementEnd()();\n        }\n      },\n      styles: [\".login-screen[_ngcontent-%COMP%]{min-height:100vh;background:#f0f4f5;padding:90px 10% 0}.container[_ngcontent-%COMP%]{display:flex}.login-left[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{color:#b22222;margin-bottom:10px;align-self:start}.login-left[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:26px;font-weight:500;margin:0 0 8px}.login-left[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#505050;margin:8px 0}.flex-cont[_ngcontent-%COMP%]{display:flex;margin:24px 15px 0 0;column-gap:15px}.img-card[_ngcontent-%COMP%]{background:white;border:1px solid #a0a0a0;border-radius:10px;cursor:pointer;overflow:hidden}.img-card[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:120px;height:120px;object-fit:cover}.img-card[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 10px #afafaf,-1px -1px 10px #afafaf}.caption[_ngcontent-%COMP%]{padding:8px;text-align:center}\"]\n    });\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}